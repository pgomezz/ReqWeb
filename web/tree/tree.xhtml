<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <h:form id="tree" style=" height: 100%" >  

        <p:growl id="messages" showDetail="true" /> 
        
        <p:tree value="#{treeBean.root}" var="node" dynamic="true" cache="false"  
            selectionMode="single"  selection="#{treeBean.selectedNode}" id="tree">  

            <p:ajax event="expand" update=":TabProfile:tree:messages" listener="#{treeBean.onNodeExpand}" />  
            <p:ajax event="collapse" update=":TabProfile:tree:messages" listener="#{treeBean.onNodeCollapse}" />  
            <p:ajax event="select" update=":TabProfile:tree:messages" listener="#{treeBean.onNodeSelect}" />  
            <p:ajax event="unselect" update=":TabProfile:tree:messages" listener="#{treeBean.onNodeUnselect}" />

            <p:treeNode id="treeNode">  
                <h:outputText value="#{node}" id="lblNode"/>  
            </p:treeNode>  
        </p:tree>  

    </h:form>

</ui:composition>

